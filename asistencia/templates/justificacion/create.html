{% extends 'base.html' %}

{% block content %}
<h1>Justificativo Inasistencia a Clases Estudiantes IICG UACh</h1>
<p>Este formulario sirve para enviar antecedentes de justificación de inasistencia a clases. 
El envío de los antecedentes no asegura la aprobación del justificativo.
La escuela evaluará la pertinencia, validez y aprobación de su justificativo de inasistencia.</p>
<div class="card">
  	<div class="card-body">
		<form method='POST' enctype='multipart/form-data'> {% csrf_token %}
			<div class="card bg-light">
  			<div class="card-body">
			<div class="form-group">
		    	<label><b>RUT</b></label>
		    	<input type="text" class="form-control" name="rut" pattern="\d{7,8}-[\dK]">
		    	<small class="form-text text-muted">Ingrese rut sin puntos y con guión</small>
		  	</div>
			</div>
			</div>
			<br/>
			<div class="card bg-light">
  			<div class="card-body">
			<div class="form-group">
		    	<label><b>Nombre del estudiante</b></label>
		    	<input type="text" class="form-control" name="nombre" pattern="^([^0-9]*)$">
		  	</div>
			</div>
			</div>
			<br/>
			<div class="card bg-light">
  			<div class="card-body">
		  	<div class="form-group">
		    	<label><b>Apellido paterno</b></label>
		    	<input type="text" class="form-control" name="apellidoP" pattern="^([^0-9]*)$">
		  	</div>
		 	</div>
			</div>
			<br/>
			<div class="card bg-light">
  			<div class="card-body">
		  	<div class="form-group">
		    	<label><b>Apellido materno</b></label>
		    	<input type="text" class="form-control" name="apellidoM" pattern="^([^0-9]*)$">
		 	</div>
			</div>
			</div>
			<br/>
			<div class="card bg-light">
  			<div class="card-body">
		  	<div class="form-group">
		    	<label><b>Dirección de correo electrónico UACh</b></label>
		    	<input type="text" class="form-control" name="correo" pattern=".*@alumnos.uach.cl$">
		  	</div>
		  	</div>
			</div>
			<br/>
			<div class="card bg-light">
  			<div class="card-body">
		  	<div class="form-group">
		    	<label><b>Generación</b></label>
		    	<select class="form-control" name="generacion">
		    	{% for i in anyos %}
		    	<option>{{ i }}</option>
		    	{% endfor %}
		    </select>	
		  	</div>
		  	</div>
			</div>
			<br/>
		  	<div class="card bg-light">
		  		<div class="card-body">
				  	<label><b>Fecha justificativo inasistencia</b></label>
				  	<div class="form-row">
				    	<div class="col">
				  			<div class="form-group">
				    			<label><b>Día de inicio</b></label>
				    			<input type="number" class="form-control" name="diaInicio" min="1" max="31">
				  			</div>
				  		</div>
				  		<div class="col">
						  	<div class="form-group">
						    	<label><b>Mes de inicio</b></label>
						    	<input type="number" class="form-control" name="mesInicio" min="1" max="12">
						  	</div>
						</div>
						<div class="col">
							<div class="form-group">
				    			<label><b>Día de término</b></label>
				    			<input type="number" class="form-control" name="diaFin" min="1" max="31">
				  			</div>
						</div>
						<div class="col">
							<div class="form-group">
								<label><b>Mes de término</b></label>
				    			<input type="number" class="form-control" name="mesFin" min="1" max="12">
				    		</div>
				    	</div>
					</div>
				</div>
			</div>
			<br/>
			<div class="card bg-light">
  			<div class="card-body">
		  	<div class="form-group">
		    	<label><b>Motivo inasistencia</b></label>
		    	<textarea class="form-control" name="motivo" rows="3"></textarea>
		  	</div>
		  	</div>
			</div>
			<br/>
			<div class="card bg-light">
  			<div class="card-body">
		  	<label><b>Asignatura(s) que justifica</b></label>
		  	<select class="custom-select" name="asignatura" multiple>
		  		<option selected>Seleccione una o más asignaturas</option>
		  		{% for obj in asignaturas %}
		  			<option value="{{ obj.id }}">{{ obj.nombre }}</option>
		  		{% endfor %}
			</select>
			<small class="form-text text-muted">Seleccione más de una con la tecla control</small>
			</div>
			</div>
			<br/>
			<div class="card bg-light">
  			<div class="card-body">
			<div class="form-group">
		    	<label><b>Certificado médico, licencia médica (plazo 3 días hábiles) o respaldos de justificativo</b></label>
		    	<input type="file" class="form-control-file" name="justificativo">
		  	</div>
		  	</div>
			</div>
		  	<input type="hidden" name="estado" value=0>
			<br/>
			<center>
			<input type='submit' class="btn btn-success btn-lg mr-4" value='Enviar'/>
			<input type="button" class="btn btn-secondary btn-lg" onclick="location.href='../';" value="Cancelar" />
			</center>
		</form>
	</div>
</div>
<br/>
{% endblock %}